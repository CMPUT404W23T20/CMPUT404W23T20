(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{198:function(e,t,a){},199:function(e,t,a){},286:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(158),i=a.n(o),c=(a(198),a(199),a(373)),s=a(10),l=a(19),d=a(6),p=a(124),u=a(362),h=a(294),j=a(363),b=a(364),x=a(370),g=a(386),f=a(366),m=a(367),y=a(168),O=a.n(y),v=a(387),w=a(169),k=a.n(w),C=a(380),I=a(388),S=a(377),L=a(359),D=a(296),T=a(298),B=a(15),R=a(159),A=a.n(R),N=a(162),z=a.n(N),P=a(163),_=a.n(P),Y=a(164),M=a.n(Y),F=a(165),W=a.n(F),G=a(1);var E=function(){var e=Object(B.m)(),t=[{text:"Home",location:"/",icon:Object(G.jsx)(A.a,{})},{text:"Inbox",location:"/inbox",icon:Object(G.jsx)(z.a,{})},{text:"Profile",location:"/profile",icon:Object(G.jsx)(_.a,{})},{text:"Friends",location:"/friends",icon:Object(G.jsx)(M.a,{})},{text:"Posts",location:"/posts",icon:Object(G.jsx)(W.a,{})}];return Object(G.jsxs)(C.a,{className:"sidebar",variant:"permanent",anchor:"left",PaperProps:{sx:{width:"170px",background:"linear-gradient(to bottom, #297fca, #66aeec)"}},children:[Object(G.jsx)(I.a,{children:t.map((function(t,a){var n=t.text;return Object(G.jsxs)(S.a,{sx:{color:"white"},className:"sidebar_item",onClick:function(a){return e(t.location)},children:[t.icon&&Object(G.jsx)(L.a,{sx:{color:"white"},children:t.icon}),Object(G.jsx)(D.a,{primary:n})]},n)}))}),Object(G.jsx)(T.a,{onClick:function(){e("/Login"),localStorage.clear()},variant:"outlined",sx:{color:"#ffffff",mt:5,bottom:"20px",alignSelf:"center",width:"80%"},children:"Logout"})]})},Q=a(369),V=a(372),X=a(390);function U(){if(["t20-social-distribution.herokuapp.com","www.t20-social-distribution.herokuapp.com"].includes(window.location.hostname))return"https://"+window.location.hostname;var e=window.location.hostname,t=window.location.port||"8000";return"3000"===t?"https://t20-social-distribution.herokuapp.com":"http://".concat(e,":").concat(t)}var J=a(385),H=a(115),Z=a(374),q=a(376),K=a(120);var $=function(){var e=r.a.useState([]),t=Object(d.a)(e,2),a=t[0],n=t[1],o=r.a.useState([]),i=Object(d.a)(o,2),y=i[0],w=i[1],C=r.a.useState([]),I=Object(d.a)(C,2),S=I[0],L=I[1],D=r.a.useState([]),T=Object(d.a)(D,2),B=(T[0],T[1],r.a.useState(!1)),R=Object(d.a)(B,2),A=R[0],N=R[1],z=r.a.useState(!1),P=Object(d.a)(z,2),_=P[0],Y=P[1],M=r.a.useState([]),F=Object(d.a)(M,2),W=F[0],$=F[1],ee=r.a.useState([]),te=Object(d.a)(ee,2),ae=te[0],ne=te[1],re=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(U(),"/service/authors/").concat(localStorage.getItem("id"),"/friends"),e.next=3,Q.a.get(t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 3:a=e.sent,n=a.data.items,$(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(l.a)(Object(s.a)().mark((function e(t){var a,n,r,o,i;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.source="".concat(U(),"/service/authors/")+localStorage.getItem("id"),console.log("repost",t),console.log("sending to",ae),a=0;case 4:if(!(a<ae.length)){e.next=22;break}n="",r=0;case 7:if(!(r<W.length)){e.next=14;break}if(W[r].displayName!=ae[a]){e.next=11;break}return n=W[r].id,e.abrupt("break",14);case 11:r++,e.next=7;break;case 14:return o="".concat(U(),"/service/authors/").concat(n,"/inbox"),e.next=17,Q.a.post(o,t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 17:i=e.sent,console.log(i);case 19:a++,e.next=4;break;case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a,r,o,i,c,l,d,p,u,h,j,b,x,g,f,m,y,O,v,k,C,I;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("".concat(U(),"/service/authors/").concat(localStorage.getItem("id"),"/following"),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 2:t=e.sent,a=t.data.items,r=[],"Group20","jn8VWYcZDrLrkQDcVsRi",o="Basic "+btoa("Group20:jn8VWYcZDrLrkQDcVsRi"),i=0;case 9:if(!(i<a.length)){e.next=25;break}return c=a[i],l=c.id.split("/").pop(),d=c.host+"/service/authors/"+l+"/posts","https://social-distribution-media.herokuapp.com/api"==c.host&&(d=c.host+"/authors/"+l+"/posts"),"https://group-13-epic-app.herokuapp.com/"==c.host&&(d=c.host+"api/authors/"+l+"/posts"),"https://cmput404-group6-instatonne.herokuapp.com"==c.host&&(l=l.replace(/-/g,""),d=c.host+"/authors/"+l+"/posts"),"https://distributed-social-net.herokuapp.com/"==c.host&&(l=l.replace(/-/g,""),d=c.host+"service/authors/"+l+"/posts"),console.log("path",d),e.next=20,Q.a.get(d,{headers:{"Content-Type":"application/json",Authorization:c.host==d?"Bearer "+localStorage.getItem("token"):"https://social-distribution-media.herokuapp.com/api"==c.host?o:"https://cmput404-group6-instatonne.herokuapp.com"==c.host?"Basic R3JvdXAyMDpncm91cDIwY21wdXQ0MDQ=":""}}).catch((function(e){console.log("error",e)}));case 20:void 0!=(p=e.sent)&&(r=r.concat(p.data.items?p.data.items:p.data));case 22:i++,e.next=9;break;case 25:return console.log("followingPosts",r),w(r),N(!0),u="".concat(U(),"/service/posts"),e.next=31,Q.a.get(u,{headers:{"Content-Type":"application/json"}});case 31:h=e.sent,j=(j=h.data.items).filter((function(e){for(var t=0;t<r.length;t++)if(e.id==r[t].id)return!1;return!0})),console.log("posts",j),n(j),Y(!0),b=[],[],x=0;case 40:if(!(x<j.length)){e.next=51;break}return g="".concat(U())+"/service/authors/"+j[x].author.id+"/posts/"+j[x].id+"/comments",e.next=44,Q.a.get(g,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 44:for(f=e.sent,void 0==(m=f.data.items)&&(m=[]),y=0;y<m.length;y++)b.push(m[y]);case 48:x++,e.next=40;break;case 51:O=0;case 52:if(!(O<r.length)){e.next=64;break}if("undefined"===typeof r[O].author){e.next=61;break}if("https://t20-social-distribution.herokuapp.com"!==r[O].author.host){e.next=61;break}return v="".concat(U())+"/service/authors/"+r[O].author.id+"/posts/"+r[O].id+"/comments",e.next=58,Q.a.get(v,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 58:for(k=e.sent,C=k.data.items,I=0;I<C.length;I++)b.push(C[I]);case 61:O++,e.next=52;break;case 64:L(b);case 65:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r.a.useEffect((function(){null!=localStorage.getItem("token")&&(ie(),re())}),[]);var ce=r.a.useState(!1),se=Object(d.a)(ce,2),le=se[0],de=se[1],pe=function(){var e=Object(l.a)(Object(s.a)().mark((function e(t,a,n){var r,o,i,c,l;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.author.id.split("/").pop(),r="".concat(U())+"/service/authors/"+n+"/posts/"+a.id+"/comments","https://social-distribution-media.herokuapp.com/api"==a.author.host&&(r=a.author.id+"/inbox"),"https://group-13-epic-app.herokuapp.com/"==a.author.host&&(r=a.author.id+"/inbox/"),"https://cmput404-group6-instatonne.herokuapp.com"==a.author.host&&(r=a.author.id+"/inbox"),"https://distributed-social-net.herokuapp.com/"==a.author.host&&(r=a.author.id+"/inbox"),"https://t20-social-distribution.herokuapp.com"!==a.author.host){e.next=16;break}return o={author:localStorage.getItem("id"),comment:t,post:a.id},e.next=10,Q.a.post(r,o,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 10:return i=e.sent,r="".concat(U(),"/service/authors/").concat(a.author.id,"/inbox"),e.next=14,Q.a.post(r,i.data,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).catch((function(e){console.log(e)}));case 14:e.next=23;break;case 16:return c={type:"comment",author:"https://t20-social-distribution.herokuapp.com/service/authors/"+localStorage.getItem("id"),contentType:"text/plain",comment:t,post:a.id},"Group20","jn8VWYcZDrLrkQDcVsRi",l="Basic "+btoa("Group20:jn8VWYcZDrLrkQDcVsRi"),e.next=22,Q.a.post(r,c,{headers:{"Content-Type":"application/json",Authorization:a.author.host==r?"Bearer "+localStorage.getItem("token"):"https://social-distribution-media.herokuapp.com/api"==a.author.host?l:"https://cmput404-group6-instatonne.herokuapp.com"==a.author.host?"Basic R3JvdXAyMDpncm91cDIwY21wdXQ0MDQ=":""}}).catch((function(e){console.log(e)}));case 22:console.log(c);case 23:de(!0),ie(),document.getElementById("comment").value="",document.getElementById("postedComment").style.display="Block",setTimeout((function(){de(!1)}),5e3);case 28:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ue=function(){var e=localStorage.getItem("token");null===e&&console.log("Not logged in");var t=JSON.stringify(Object(H.a)(e));return JSON.parse(t)},he=function(){var e=Object(l.a)(Object(s.a)().mark((function e(t){var a,n,r,o;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(U(),"/service/authors/")+localStorage.getItem("id")+"/liked",e.next=3,Q.a.get(a,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).catch((function(e){console.log(e)}));case 3:n=e.sent,r=n.data.items,o=0;case 6:if(!(o<r.length)){e.next=12;break}if(r[o].object!==t){e.next=9;break}return e.abrupt("return",!0);case 9:o++,e.next=6;break;case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(l.a)(Object(s.a)().mark((function e(t){var a,n,r,o,i,c,d,p,u,h,j,b,x,g;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,"https://t20-social-distribution.herokuapp.com"!==t.author.host){e.next=8;break}return n="post"===t.type?t.origin:t.post.origin+"/comments/"+t.id,e.next=5,he(n);case 5:a=e.sent,e.next=12;break;case 8:return r=t.id,e.next=11,he(r);case 11:a=e.sent;case 12:if(!0!==a){e.next=14;break}return e.abrupt("return");case 14:if(o=ue(),i="".concat(U(),"/service/authors/")+o.user_id+"/liked",c="post"===t.type?"Post":"Comment",d="Post"===c?t.origin:t.post.origin+"/comments/"+t.id,"https://t20-social-distribution.herokuapp.com"!==t.author.host){e.next=29;break}return p={},p="post"===t.type.toLowerCase()?{author:localStorage.getItem("id"),post:t.id,summary:"".concat(o.username," likes your ").concat(t.type),objectLiked:c,object:d}:{author:localStorage.getItem("id"),comment:t.id,summary:"".concat(o.username," likes your ").concat(t.type),objectLiked:c,object:d},e.next=23,Q.a.post(i,p,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 23:return u=e.sent,h="".concat(U(),"/service/authors/").concat(t.author.id,"/inbox"),e.next=27,Q.a.post(h,u.data,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).catch((function(e){console.log(e)}));case 27:e.next=41;break;case 29:return j=t.author.id+"/inbox","https://group-13-epic-app.herokuapp.com/"==t.author.host&&(j=t.author.id+"/inbox/"),b={author:"".concat(U(),"/service/authors/")+localStorage.getItem("id"),object:t.id,type:"Like"},"Group20","jn8VWYcZDrLrkQDcVsRi",x="Basic "+btoa("Group20:jn8VWYcZDrLrkQDcVsRi"),e.next=37,Q.a.post(j,b,{headers:{"Content-Type":"application/json",Authorization:t.author.host==i?"Bearer "+localStorage.getItem("token"):"https://social-distribution-media.herokuapp.com/api"==t.author.host?x:"https://cmput404-group6-instatonne.herokuapp.com"==t.author.host?"Basic R3JvdXAyMDpncm91cDIwY21wdXQ0MDQ=":""}}).catch((function(e){console.log(e)}));case 37:if("comment"!==t.type.toLowerCase()){e.next=41;break}return g="https://t20-social-distribution.herokuapp.com/service/authors/".concat(t.author.id,"/inbox"),e.next=41,Q.a.post(g,b,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).catch((function(e){console.log(e)}));case 41:(function(){var e=Object(l.a)(Object(s.a)().mark((function e(t){var a,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(U(),"/service/authors/")+t.author.id+"/posts/"+t.id+"/likes",e.next=3,Q.a.get(a,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 3:return n=e.sent,e.abrupt("return",n.data.items.length);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})();case 42:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=r.a.useState(!1),xe=Object(d.a)(be,2),ge=xe[0],fe=xe[1],me=r.a.useState([{}]),ye=Object(d.a)(me,2),Oe=ye[0],ve=ye[1],we=r.a.useState(!1),ke=Object(d.a)(we,2),Ce=ke[0],Ie=ke[1],Se=r.a.useState(),Le=Object(d.a)(Se,2),De=(Le[0],Le[1],r.a.useState(!1)),Te=Object(d.a)(De,2),Be=Te[0],Re=Te[1];return Object(G.jsxs)(c.a,{children:[Object(G.jsxs)(c.a,{className:"App",style:{display:"flex",flexDirection:"row",height:"100vh",width:"100vw",alignItems:"left",justifyContent:"left"},children:[Object(G.jsx)(c.a,{style:{width:"170px"},children:Object(G.jsx)(E,{})}),Object(G.jsxs)(c.a,{style:{display:"flex",flexDirection:"row",backgroundColor:"white",flex:1,height:"100vh"},children:[Object(G.jsxs)(c.a,{style:{display:"flex",flexDirection:"row",flex:1,margin:"10px",borderColor:"grey",borderStyle:"solid",backgroundColor:"#c3d3eb"},children:[Object(G.jsxs)(c.a,{style:{display:"flex",flexDirection:"column",flex:1,margin:"10px"},children:[Object(G.jsx)(p.a,{variant:"h4",children:"Following's Public Posts"}),Object(G.jsxs)(u.a,{style:{flex:1,overflowY:"scroll",maxHeight:"100%"},children:[!A&&Object(G.jsx)(J.a,{}),A&&y.map((function(e){return Object(G.jsx)(h.a,{onClick:function(){fe(!0),ve(e)},children:Object(G.jsx)(j.a,{style:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center"},children:Object(G.jsx)(c.a,{style:{paddingLeft:2},children:"post"===e.type&&Object(G.jsxs)(c.a,{style:{display:"flex",flexDirection:"row",marginTop:"10px",marginLeft:"10px"},children:[Object(G.jsx)("img",{src:"no profileImage"!=e.author.profileImage&&""!=e.author.profileImage?e.author.profileImage:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Solid_white.svg/2048px-Solid_white.svg.png",alt:"IMG",style:{borderRadius:"50%"},width:"100px",height:"100px"}),Object(G.jsxs)(c.a,{style:{display:"flex",flexDirection:"column",paddingLeft:"10px"},children:[Object(G.jsxs)(p.a,{variant:"h5",children:["Title: ",e.title]}),Object(G.jsxs)(p.a,{variant:"body2",children:["Author: ",e.author.displayName]}),Object(G.jsxs)(p.a,{variant:"body2",children:["Published: ",e.published.substring(0,10)]}),Object(G.jsxs)(p.a,{variant:"body2",children:["Node: ",e.author.host]})]})]})})})},e.id)}))]})]}),Object(G.jsxs)(c.a,{style:{display:"flex",flexDirection:"column",flex:1,margin:"10px"},children:[Object(G.jsx)(p.a,{variant:"h4",children:"Public Posts"}),Object(G.jsxs)(u.a,{style:{flex:1,overflowY:"scroll",maxHeight:"100%"},children:[!_&&Object(G.jsx)(J.a,{}),_&&a.map((function(e){return Object(G.jsx)(h.a,{onClick:function(){fe(!0),ve(e)},children:Object(G.jsx)(j.a,{style:{width:"100%"},children:Object(G.jsx)(c.a,{style:{paddingLeft:2},children:"post"===e.type&&Object(G.jsxs)(c.a,{style:{display:"flex",flexDirection:"row",marginTop:"10px",marginLeft:"10px"},children:[Object(G.jsx)("img",{src:"no profileImage"!=e.author.profileImage&&""!=e.author.profileImage?e.author.profileImage:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Solid_white.svg/2048px-Solid_white.svg.png",alt:"IMG",style:{borderRadius:"50%"},width:"100px",height:"100px"}),Object(G.jsxs)(c.a,{style:{display:"flex",flexDirection:"column",paddingLeft:"10px"},children:[Object(G.jsxs)(p.a,{variant:"h5",children:["Title: ",e.title]}),Object(G.jsxs)(p.a,{variant:"body2",children:["Author: ",e.author.displayName]}),Object(G.jsxs)(p.a,{variant:"body2",children:["Published: ",e.published.substring(0,10)]}),Object(G.jsxs)(p.a,{variant:"body2",children:["Node: ",e.author.host]}),Object(G.jsx)(p.a,{id:e.id,variant:"body2",children:"Likes: "})]})]})})})},e.id)}))]})]})]}),ge&&Object(G.jsxs)(c.a,{style:{flex:1,margin:"10px",borderColor:"grey",borderStyle:"solid",backgroundColor:"#c3d3eb",display:"flex",flexDirection:"column"},children:[Object(G.jsxs)(j.a,{style:{marginRight:"10px",marginBottom:"10px",marginLeft:"10px",borderRadius:"10px",borderColor:"black",marginTop:"5px",flex:1,overflowY:"scroll"},children:[Object(G.jsx)(p.a,{variant:"h2",children:Oe.title}),Object(G.jsxs)(c.a,{children:[Object(G.jsx)("img",{src:"no profileImage"!=Oe.author.profileImage&&""!=Oe.author.profileImage?Oe.author.profileImage:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Solid_white.svg/2048px-Solid_white.svg.png",alt:"IMG",style:{borderRadius:"50%"},width:"100px",height:"100px"}),Object(G.jsxs)(c.a,{style:{display:"flex",flexDirection:"column",paddingLeft:"10px",alignItems:"cen",justifyContent:"left"},children:[Object(G.jsxs)(p.a,{variant:"body2",children:["Author: ",Oe.author.displayName]}),Object(G.jsxs)(p.a,{variant:"body2",children:["Published: ",Oe.published.substring(0,10)]}),Object(G.jsxs)(p.a,{variant:"body2",children:["Node: ",Oe.author.host]})]})]}),Object(G.jsx)(p.a,{variant:"h5",children:"Description:"}),"text/markdown"===Oe.contentType?Object(G.jsx)(K.a,{children:Oe.description}):Object(G.jsx)(p.a,{variant:"body1",style:{maxHeight:"100%",overflowY:"auto"},children:Oe.description}),Oe.image_data?Object(G.jsx)(j.a,{style:{marginRight:"10px",marginBottom:"10px",marginLeft:"10px",borderRadius:"10px",borderColor:"black",marginTop:"5px",flex:1},children:Object(G.jsx)("img",{src:"data:image/png;base64,".concat(Oe.image_data),alt:"Post Image",style:{width:"100%"}})}):null,Object(G.jsx)("div",{id:"postedComment",style:{display:"none",borderRadius:"25px",backgroundColor:"#bce3c0",width:"40%",margin:"10px",paddingLeft:"5%",marginLeft:"30%"},children:Object(G.jsx)(p.a,{variant:"h6",style:{textAlign:"left",fontSize:15},children:le?"Your comment has been sent!":""})}),Object(G.jsx)(b.a,{variant:"contained",color:"secondary",onClick:function(){return Ce?Ie(!1):fe(!1)},style:{position:"absolute",bottom:"30px",right:"30px"},children:"Close"}),!Ce&&Object(G.jsxs)("div",{children:[Object(G.jsx)(b.a,{variant:"contained",color:"primary",onClick:function(){return Ie(!0)},style:{position:"absolute",bottom:"30px",right:"120px"},children:"Comments"}),Object(G.jsx)(b.a,{variant:"outlined",title:"like",color:"secondary",startIcon:Object(G.jsx)(O.a,{}),onClick:function(){return je(Oe)},style:{position:"absolute",bottom:"30px",right:"400px"},children:"Like"})]}),Object(G.jsx)(b.a,{onClick:function(){Re(!0)},style:{position:"absolute",bottom:"30px",right:Ce?"120px":"250px"},color:"primary",variant:"contained",children:"Repost"})]}),Ce&&Object(G.jsxs)(j.a,{style:{marginRight:"10px",marginBottom:"10px",marginLeft:"10px",borderRadius:"10px",borderColor:"black",marginTop:"5px",flex:1,overflowY:"scroll"},children:[Object(G.jsx)(x.a,{id:"comment",label:"Comment...",variant:"outlined",style:{width:"75%",margin:"25px"}}),Object(G.jsx)(b.a,{variant:"contained",color:"primary",onClick:function(){return pe(document.getElementById("comment").value,Oe,"".concat(Oe.author.id))},style:{margin:10,position:"relative",top:"25px"},children:"Comment"}),"".concat(Oe.author.id)===localStorage.getItem("id")?Object(G.jsx)(p.a,{variant:"h6",style:{textAlign:"left",paddingLeft:30,fontSize:20},children:"Comments:"}):Object(G.jsx)("h2",{}),S.map((function(e){return"".concat(e.post.id)==="".concat(Oe.id.split("/").pop())&&"PUBLIC"==="".concat(Oe.visibility)?Object(G.jsxs)("div",{style:{display:"flex",alignItems:"center",wordWrap:"break-word"},children:[Object(G.jsx)("img",{src:e.author.profileImage,alt:"",style:{borderRadius:"50%",marginLeft:30,marginRight:15,marginBottom:10},width:55,height:55}),Object(G.jsxs)(p.a,{variant:"h6",style:{display:"inline-block",textAlign:"left",paddingLeft:15,fontSize:20},children:[e.author.displayName,": ",e.comment]}),Object(G.jsx)(v.a,{id:"heartButton",variant:"outlined",color:"secondary","aria-label":"likeComment",onClick:function(){return je(e)},style:{marginLeft:15},children:Object(G.jsx)(k.a,{})})]}):Object(G.jsx)("h2",{})}))]})]})]})]}),Object(G.jsx)(V.a,{open:Be,onClose:function(){Re(!1),ne([])},style:{display:"flex",alignItems:"center",justifyContent:"center"},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(G.jsx)(c.a,{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh"},children:Object(G.jsxs)(j.a,{style:{padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(G.jsx)(p.a,{variant:"h4",children:"Repost"}),Object(G.jsxs)(X.a,{style:{width:"100%",margin:"10px"},children:[Object(G.jsx)(g.a,{htmlFor:"repostTitle",children:"friend"}),Object(G.jsx)(Z.a,{id:"repostTitle",label:"friend",renderValue:function(e){return e.join(", ")},multiple:!0,MenuProps:{PaperProps:{style:{maxHeight:224,width:250}}},onChange:function(e){var t=e.target.value;ne("string"===typeof t?t.split(","):t)},value:ae,children:W.map((function(e){return Object(G.jsxs)(f.a,{value:e.displayName,children:[Object(G.jsx)(q.a,{checked:ae.indexOf(e.displayName)>-1}),Object(G.jsx)(m.a,{primary:e.displayName})]},e.id)}))})]}),Object(G.jsx)(b.a,{variant:"contained",color:"primary",onClick:function(){return oe(Oe)},style:{margin:10,position:"relative",top:"25px"},children:"Repost"})]})})})]})};var ee=function(){var e=r.a.useState(!0),t=Object(d.a)(e,2),a=t[0],n=t[1],o=r.a.useState([]),i=Object(d.a)(o,2),x=i[0],y=i[1],O=r.a.useState([]),v=Object(d.a)(O,2),w=v[0],k=v[1],C=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(U(),"/service/authors/").concat(localStorage.getItem("id"),"/friends"),e.next=3,Q.a.get(t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 3:a=e.sent,n=a.data.items,y(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(Object(s.a)().mark((function e(t){var a,n,r,o,i;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.source="".concat(U(),"/service/authors/")+localStorage.getItem("id"),console.log("repost",t),console.log("sending to",w),a=0;case 4:if(!(a<w.length)){e.next=22;break}n="",r=0;case 7:if(!(r<x.length)){e.next=14;break}if(x[r].displayName!=w[a]){e.next=11;break}return n=x[r].id,e.abrupt("break",14);case 11:r++,e.next=7;break;case 14:return o="".concat(U(),"/service/authors/").concat(n,"/inbox"),e.next=17,Q.a.post(o,t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 17:i=e.sent,console.log(i);case 19:a++,e.next=4;break;case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a,r,o,i,c,l,d,p,u,h;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),t="".concat(U(),"/service/authors/").concat(localStorage.getItem("id"),"/inbox"),e.next=4,Q.a.get(t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 4:a=e.sent,r=a.data.items,console.log(r),o=0;case 8:if(!(o<r.length)){e.next=19;break}if("postURL"!==r[o].type){e.next=16;break}return console.log(r[o].url),i=r[o].url,e.next=14,Q.a.get(i,{headers:{"Content-Type":"application/json"}}).catch((function(e){console.log(e)}));case 14:(c=e.sent)&&(l=r[o].source,r[o]=c.data,r[o].source=l);case 16:o++,e.next=8;break;case 19:d=0;case 20:if(!(d<r.length)){e.next=30;break}if("follow"!==r[d].type){e.next=27;break}return p="".concat(U(),"/service/authors/").concat(r[d].follower.id,"/followers/").concat(localStorage.getItem("id")),e.next=25,Q.a.get(p,{headers:{"Content-Type":"application/json"}}).catch((function(e){console.log(e)}));case 25:e.sent.data&&(r.splice(d,1),d--);case 27:d++,e.next=20;break;case 30:u=0;case 31:if(!(u<r.length)){e.next=41;break}if("post"!==r[u].type){e.next=38;break}if(r[u].source.includes(r[u].origin)){e.next=38;break}return e.next=36,Q.a.get(r[u].source,{headers:{"Content-Type":"application/json"}}).catch((function(e){console.log(e)}));case 36:(h=e.sent)&&h.data&&(r[u].source=h.data);case 38:u++,e.next=31;break;case 41:return console.log(r),n(!1),e.abrupt("return",a.data.items);case 44:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(U(),"/service/authors/").concat(localStorage.getItem("id"),"/inbox"),e.next=3,Q.a.delete(t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 3:e.sent,S().then((function(e){A(e)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(Object(s.a)().mark((function e(t){var a,n,r;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("id"),n="".concat(U(),"/service/authors/").concat(a,"/followers/").concat(t.id),e.next=4,Q.a.put(n,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 4:return r=e.sent,e.t0=A,e.next=8,S();case 8:return e.t1=e.sent,(0,e.t0)(e.t1),e.abrupt("return",r.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=r.a.useState([]),B=Object(d.a)(T,2),R=B[0],A=B[1];r.a.useEffect((function(){S().then((function(e){A(e)})),C()}),[]);var N=r.a.useState([]),z=Object(d.a)(N,2),P=z[0],_=z[1],Y=r.a.useState(!1),M=Object(d.a)(Y,2),F=M[0],W=M[1],H=function(){var e=Object(l.a)(Object(s.a)().mark((function e(t){var a,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te(!0),W(!0),_([]),t.origin.includes("t20-social-distribution.herokuapp.com")?(a="".concat(U(),"/service/authors/").concat(t.author.id?t.author.id:t.author,"/posts/").concat(t.id),console.log(a)):a=t.id,e.next=6,Q.a.get(a,{headers:{"Content-Type":"application/json"}});case 6:if(n=e.sent,t=n.data,oe(t),t.author.id.split("/").pop()!==localStorage.getItem("id")){e.next=16;break}return a="".concat(U(),"/service/authors/").concat(t.author.id,"/posts/").concat(t.id,"/comments"),e.next=14,Q.a.get(a,{headers:{"Content-Type":"application/json"}});case 14:n=e.sent,_(n.data.items);case 16:W(!1);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=r.a.useState(!1),$=Object(d.a)(K,2),ee=$[0],te=$[1],ae=r.a.useState(),ne=Object(d.a)(ae,2),re=ne[0],oe=ne[1],ie=r.a.useState(!1),ce=Object(d.a)(ie,2),se=ce[0],le=ce[1];return Object(G.jsxs)(c.a,{children:[Object(G.jsxs)(c.a,{className:"App",style:{display:"flex",flexDirection:"row",height:"100vh",width:"100vw",alignItems:"left",justifyContent:"left"},children:[Object(G.jsx)(c.a,{style:{width:"170px"},children:Object(G.jsx)(E,{})}),Object(G.jsxs)(c.a,{style:{display:"flex",flexDirection:"row",backgroundColor:"white",flex:1,height:"100vh"},children:[Object(G.jsxs)(c.a,{style:{display:"flex",flexDirection:"column",flex:1,margin:"10px",borderColor:"grey",borderStyle:"solid",borderRadius:"5px",backgroundColor:"#c3d3eb"},children:[Object(G.jsx)(p.a,{variant:"h4",children:"Inbox"}),Object(G.jsxs)(u.a,{style:{flex:1,overflowY:"scroll",maxHeight:"100%"},children:[a&&Object(G.jsx)(J.a,{}),!a&&R.map((function(e){return Object(G.jsxs)(h.a,{children:["post"===e.type&&Object(G.jsx)(j.a,{style:{width:"100%"},onClick:function(){H(e)},children:Object(G.jsx)(c.a,{style:{paddingLeft:2},children:"post"===e.type&&Object(G.jsxs)(c.a,{style:{display:"flex",flexDirection:"row",marginTop:"10px",marginLeft:"10px"},children:[Object(G.jsx)("img",{src:"no profileImage"!=e.author.profileImage&&""!=e.author.profileImage?e.author.profileImage:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Solid_white.svg/2048px-Solid_white.svg.png",alt:"IMG",style:{borderRadius:"50%"},width:"100px",height:"100px"}),Object(G.jsxs)(c.a,{style:{display:"flex",flexDirection:"column",paddingLeft:"10px"},children:[Object(G.jsxs)(p.a,{variant:"h5",children:["Title: ",e.title]}),e.source!=e.origin&&"No source"!=e.source&&null!=e.source&&e.source&&e.source.displayName&&Object(G.jsxs)(p.a,{variant:"body2",children:["Sent By: ",e.source.displayName]}),Object(G.jsxs)(p.a,{variant:"body2",children:["Author: ",e.author.displayName]}),Object(G.jsxs)(p.a,{variant:"body2",children:["Published: ",e.published.substring(0,10)]}),Object(G.jsxs)(p.a,{variant:"body2",children:["Node: ",e.author.host]}),Object(G.jsxs)(p.a,{variant:"body2",children:["Likes: ",e.likes]})]})]})})}),"comment"===e.type&&Object(G.jsx)(j.a,{style:{width:"100%"},onClick:function(){H(e.post)},children:Object(G.jsx)(c.a,{style:{paddingLeft:2},children:Object(G.jsxs)(c.a,{style:{display:"flex",flexDirection:"row",marginTop:"10px",marginLeft:"10px"},children:[Object(G.jsx)("img",{src:"no profileImage"!=e.author.profileImage&&""!=e.author.profileImage?e.author.profileImage:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Solid_white.svg/2048px-Solid_white.svg.png",alt:"IMG",style:{borderRadius:"50%"},width:"100px",height:"100px"}),Object(G.jsxs)(c.a,{style:{display:"flex",flexDirection:"column",paddingLeft:"10px"},children:[Object(G.jsxs)(p.a,{variant:"h5",children:["Comment: ",e.comment]}),Object(G.jsxs)(p.a,{variant:"body2",children:["Author: ",e.author.displayName]}),Object(G.jsxs)(p.a,{variant:"body2",children:["Published: ",e.published.substring(0,10)]}),Object(G.jsxs)(p.a,{variant:"body2",children:["Node: ",e.author.host]})]})]})})}),"followRequest"==e.type&&Object(G.jsxs)(j.a,{style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between"},onClick:function(){return te(!1)},children:[Object(G.jsx)(c.a,{style:{paddingLeft:2},children:Object(G.jsxs)(c.a,{style:{display:"flex",flexDirection:"row",marginTop:"10px",marginLeft:"10px"},children:[Object(G.jsx)("img",{src:"no profileImage"!=e.follower.profileImage&&""!=e.follower.profileImage?e.follower.profileImage:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Solid_white.svg/2048px-Solid_white.svg.png",alt:"IMG",style:{borderRadius:"50%"},width:"100px",height:"100px"}),Object(G.jsxs)(c.a,{style:{display:"flex",flexDirection:"column",paddingLeft:"10px"},children:[Object(G.jsx)(p.a,{variant:"h5",children:"Follow Request"}),Object(G.jsxs)(p.a,{variant:"body2",children:["Author: ",e.follower.displayName]}),Object(G.jsxs)(p.a,{variant:"body2",children:["Node: ",e.follower.host]})]})]})}),Object(G.jsx)(b.a,{id:e.follower,style:{margin:42,alignSelf:"flex-end",backgroundColor:"lightblue"},onClick:function(){return D(e.follower)},variant:"contained",children:"Accept"})]}),"like"===e.type.toLowerCase()&&Object(G.jsx)(j.a,{style:{width:"100%"},onClick:function(){H(e.post)},children:Object(G.jsx)(c.a,{style:{paddingLeft:2},children:Object(G.jsxs)(c.a,{style:{display:"flex",flexDirection:"row",marginTop:"10px",marginLeft:"10px"},children:[Object(G.jsx)("img",{src:"no profileImage"!=e.author.profileImage&&""!=e.author.profileImage?e.author.profileImage:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Solid_white.svg/2048px-Solid_white.svg.png",alt:"IMG",style:{borderRadius:"50%"},width:"100px",height:"100px"}),Object(G.jsxs)(c.a,{style:{display:"flex",flexDirection:"column",paddingLeft:"10px"},children:[Object(G.jsx)(p.a,{variant:"h5",children:e.summary}),"Comment"==="".concat(e.objectLiked)?Object(G.jsxs)(p.a,{children:['Comment: "',e.comment.comment,'"']}):Object(G.jsxs)(c.a,{children:[Object(G.jsxs)(p.a,{variant:"body2",children:["Author: ",e.author.displayName]}),Object(G.jsxs)(p.a,{variant:"body2",children:["Node: ",e.author.host]})]})]})]})})})]},e.id)}))]}),Object(G.jsx)(b.a,{variant:"contained",color:"secondary",onClick:function(){return L()},style:{margin:10,alignSelf:"flex-end"},children:"Clear"}),Object(G.jsx)(b.a,{variant:"contained",color:"primary",onClick:function(){return S().then((function(e){A(e)}))},style:{margin:10,alignSelf:"flex-end"},children:"Refresh"})]}),ee&&Object(G.jsxs)(c.a,{style:{flex:1,margin:"10px",borderColor:"grey",borderStyle:"solid",backgroundColor:"#c3d3eb",display:"flex",flexDirection:"column",overflowY:"scroll"},children:[F&&Object(G.jsx)(J.a,{}),!F&&Object(G.jsxs)(c.a,{style:{flex:1,display:"flex",flexDirection:"column"},children:[Object(G.jsxs)(j.a,{style:{marginRight:"10px",marginBottom:"10px",marginLeft:"10px",borderRadius:"10px",borderColor:"black",marginTop:"5px",flex:1},children:[Object(G.jsx)(p.a,{variant:"h2",children:re.title}),Object(G.jsxs)(c.a,{children:[Object(G.jsx)("img",{src:"no profileImage"!=re.author.profileImage&&""!=re.author.profileImage?re.author.profileImage:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Solid_white.svg/2048px-Solid_white.svg.png",alt:"IMG",style:{borderRadius:"50%"},width:"100px",height:"100px"}),Object(G.jsxs)(c.a,{style:{display:"flex",flexDirection:"column",paddingLeft:"10px",alignItems:"cen",justifyContent:"left"},children:[Object(G.jsxs)(p.a,{variant:"body2",children:["Author: ",re.author.displayName]}),Object(G.jsxs)(p.a,{variant:"body2",children:["Published: ",re.published.substring(0,10)]}),Object(G.jsxs)(p.a,{variant:"body2",children:["Node: ",re.author.host]})]})]}),Object(G.jsx)(p.a,{variant:"h5",children:"Description:"}),Object(G.jsx)(p.a,{variant:"body2",children:re.description}),re.image_data?Object(G.jsx)(j.a,{style:{marginRight:"10px",marginBottom:"10px",marginLeft:"10px",borderRadius:"10px",borderColor:"black",marginTop:"5px",flex:1},children:Object(G.jsx)("img",{src:"data:image/png;base64,".concat(re.image_data),alt:"Post Image",style:{width:"100%"}})}):null,Object(G.jsx)("div",{id:"postedComment",style:{display:"none",borderRadius:"25px",backgroundColor:"#bce3c0",width:"40%",margin:"10px",paddingLeft:"5%",marginLeft:"30%"}}),Object(G.jsx)(b.a,{variant:"contained",color:"secondary",onClick:function(){return te(!1)},style:{position:"absolute",bottom:"30px",right:"30px"},children:"Close"}),Object(G.jsx)(b.a,{onClick:function(){le(!0)},style:{position:"absolute",bottom:"30px",right:"120px"},color:"primary",variant:"contained",children:"Repost"})]}),P.length>0&&Object(G.jsxs)(j.a,{style:{marginRight:"10px",marginBottom:"10px",marginLeft:"10px",borderRadius:"10px",borderColor:"black",marginTop:"5px",flex:1,overflowY:"scroll"},children:[Object(G.jsx)(p.a,{variant:"h6",style:{textAlign:"left",paddingLeft:30,fontSize:20},children:"Comments:"}),P.map((function(e){return Object(G.jsxs)("div",{style:{display:"flex",alignItems:"center",wordWrap:"break-word"},children:[Object(G.jsx)("img",{src:e.author.profileImage,alt:"",style:{borderRadius:"50%",marginLeft:30,marginRight:15,marginBottom:10},width:55,height:55}),Object(G.jsxs)(p.a,{variant:"h6",style:{display:"inline-block",textAlign:"left",paddingLeft:15,fontSize:20},children:[e.author.displayName,": ",e.comment]})]})}))]})]})]})]})]}),Object(G.jsx)(V.a,{open:se,onClose:function(){le(!1),k([])},style:{display:"flex",alignItems:"center",justifyContent:"center"},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(G.jsx)(c.a,{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh"},children:Object(G.jsxs)(j.a,{style:{padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(G.jsx)(p.a,{variant:"h4",children:"Repost"}),Object(G.jsxs)(X.a,{style:{width:"100%",margin:"10px"},children:[Object(G.jsx)(g.a,{htmlFor:"repostTitle",children:"friend"}),Object(G.jsx)(Z.a,{id:"repostTitle",label:"friend",renderValue:function(e){return e.join(", ")},multiple:!0,MenuProps:{PaperProps:{style:{maxHeight:224,width:250}}},onChange:function(e){var t=e.target.value;k("string"===typeof t?t.split(","):t)},value:w,children:x.map((function(e){return Object(G.jsxs)(f.a,{value:e.displayName,children:[Object(G.jsx)(q.a,{checked:w.indexOf(e.displayName)>-1}),Object(G.jsx)(m.a,{primary:e.displayName})]},e.id)}))})]}),Object(G.jsx)(b.a,{variant:"contained",color:"primary",onClick:function(){return I(re)},style:{margin:10,position:"relative",top:"25px"},children:"Repost"})]})})})]})};var te=function(){var e=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(U(),"/service/authors/").concat(localStorage.getItem("id")),e.next=3,Q.a.get(t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 3:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=r.a.useState([]),a=Object(d.a)(t,2),n=a[0],o=a[1];return r.a.useEffect((function(){e().then((function(e){o(e)}))}),[]),Object(G.jsxs)(c.a,{children:[Object(G.jsx)(E,{}),Object(G.jsxs)(c.a,{children:[Object(G.jsx)("h1",{children:"Profile"}),Object(G.jsx)("img",{src:n.profileImage,alt:"Profile",style:{borderRadius:"50%",marginRight:20},width:55,height:55}),Object(G.jsxs)("h2",{children:["Username: ",n.displayName]}),Object(G.jsxs)("h2",{children:["Display Name: ",n.displayName]}),Object(G.jsxs)("h2",{children:["Host: ",n.host]}),Object(G.jsxs)("h2",{children:["GitHub: ",n.github]})]})]})},ae=a(368);var ne=function(){var e=r.a.useState([]),t=Object(d.a)(e,2),a=t[0],n=t[1],o=r.a.useState([]),i=Object(d.a)(o,2),u=i[0],h=i[1],g=r.a.useState([]),f=Object(d.a)(g,2),m=f[0],y=f[1],O=r.a.useState([]),v=Object(d.a)(O,2),w=v[0],k=v[1],C=r.a.useState([]),I=Object(d.a)(C,2),S=I[0],L=I[1],D=r.a.useState([]),T=Object(d.a)(D,2),R=T[0],A=T[1],N=r.a.useState([]),z=Object(d.a)(N,2),P=z[0],_=z[1],Y=r.a.useState([]),M=Object(d.a)(Y,2),F=M[0],W=M[1],V=r.a.useState(!0),X=Object(d.a)(V,2),Z=X[0],q=X[1],K=r.a.useState(!0),$=Object(d.a)(K,2),ee=$[0],te=$[1],ne=r.a.useState(!0),re=Object(d.a)(ne,2),oe=re[0],ie=re[1],ce=r.a.useState(!0),se=Object(d.a)(ce,2),le=se[0],de=se[1],pe=r.a.useState([]),ue=Object(d.a)(pe,2),he=(ue[0],ue[1],function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a,r,o,i,c,l,d,p,u,j,b,x,g,f,m,O,v,w,C,I;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ve().user_id,a="".concat(U(),"/service/authors/").concat(t,"/friends"),e.next=4,Q.a.get(a,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 4:return r=e.sent,o=r.data.items,a="".concat(U(),"/service/authors/").concat(t,"/following"),e.next=9,Q.a.get(a,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 9:return i=e.sent,t=ve().user_id,e.next=13,Q.a.get("".concat(U(),"/service/authors"),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 13:c=e.sent,l=c.data.items,d=[],p=0;case 17:if(!(p<l.length)){e.next=41;break}u=l[p],j=0,b=!1,j=0;case 22:if(!(j<i.data.items.length)){e.next=29;break}if(u.id!==i.data.items[j].id){e.next=26;break}return b=!0,e.abrupt("break",29);case 26:j++,e.next=22;break;case 29:j=0;case 30:if(!(j<o.length)){e.next=37;break}if(u.id!==o[j].id){e.next=34;break}return b=!0,e.abrupt("break",37);case 34:j++,e.next=30;break;case 37:b||u.id===t||d.push(u);case 38:p++,e.next=17;break;case 41:L(d),A(d),ie(!1),x=i.data.items,g=0;case 46:if(!(g<o.length)){e.next=62;break}f=o[g],m=0,O=!1,m=0;case 51:if(!(m<x.length)){e.next=58;break}if(f.id!==x[m].id&&x[m].id!==t){e.next=55;break}return O=!0,e.abrupt("break",58);case 55:m++,e.next=51;break;case 58:O&&x.splice(m,1);case 59:g++,e.next=46;break;case 62:v=0;case 63:if(!(v<x.length)){e.next=76;break}if(x[v].host!=="".concat(U())){e.next=73;break}return w="".concat(U(),"/service/authors/").concat(t,"/followers/").concat(x[v].id),C={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},e.next=69,Q.a.get(w,C).data;case 69:if(!e.sent){e.next=73;break}I=x[v],o.push(I),x.splice(v,1);case 73:v++,e.next=63;break;case 76:y(o),n(x),k(o),te(!1),h(x),q(!1),ge();case 83:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),je=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Group20","jn8VWYcZDrLrkQDcVsRi",t="Basic "+btoa("Group20:jn8VWYcZDrLrkQDcVsRi"),e.next=5,Q.a.get("https://social-distribution-media.herokuapp.com/api/authors",{headers:{"Content-Type":"application/json",Authorization:t}}).catch((function(){return[]}));case 5:if(!(a=e.sent).data||!a.data.items){e.next=8;break}return e.abrupt("return",a.data.items);case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Basic R3JvdXAyMDpncm91cDIwY21wdXQ0MDQ=",e.next=3,Q.a.get("https://cmput404-group6-instatonne.herokuapp.com/authors",{headers:{"Content-Type":"application/json",Authorization:"Basic R3JvdXAyMDpncm91cDIwY21wdXQ0MDQ="}}).catch((function(){return[]}));case 3:if(!(t=e.sent).data||!t.data.items){e.next=6;break}return e.abrupt("return",t.data.items);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Group13","","Basic "+btoa("Group13:"),e.next=5,Q.a.get("https://group-13-epic-app.herokuapp.com/api/authors",{headers:{"Content-Type":"application/json"}}).catch((function(){return[]}));case 5:if(!(t=e.sent).data||!t.data.items){e.next=8;break}return e.abrupt("return",t.data.items);case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a,n,r,o,i,c,l,d,p,u,h,j,b,x;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,je();case 3:return a=e.sent,t=t.concat(a),e.next=7,be();case 7:return n=e.sent,t=t.concat(n),e.next=11,xe();case 11:r=e.sent,t=t.concat(r),o=0;case 14:if(!(o<m.length)){e.next=30;break}i=m[o],c=0,l=!1,c=0;case 19:if(!(c<t.length)){e.next=26;break}if(i.id!==t[c].id){e.next=23;break}return l=!0,e.abrupt("break",26);case 23:c++,e.next=19;break;case 26:l&&t.splice(c,1);case 27:o++,e.next=14;break;case 30:return d=ve().user_id,p="".concat(U(),"/service/authors/").concat(d,"/following"),e.next=34,Q.a.get(p,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 34:u=e.sent,h=0;case 36:if(!(h<u.data.items.length)){e.next=54;break}j=u.data.items[h],b=0,x=!1,j.id.includes("/")&&(j.id=j.id.split("/").pop()),b=0;case 42:if(!(b<t.length)){e.next=50;break}if(t[b].id.includes("/")&&(t[b].id=t[b].id.split("/").pop()),j.id!==t[b].id&&j.id.replace(/-/g,"")!==t[b].id.replace(/-/g,"")){e.next=47;break}return x=!0,e.abrupt("break",50);case 47:b++,e.next=42;break;case 50:x&&t.splice(b,1);case 51:h++,e.next=36;break;case 54:_(t),W(t),de(!1);case 57:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r.a.useEffect((function(){he(),ge()}),[]);var fe=function(){var e=Object(l.a)(Object(s.a)().mark((function e(t){var a,n,r,o,i,c,l;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ve().user_id,n=(n=t.id).split("/").pop(),"https://distributed-social-net.herokuapp.com/"===t.host&&(n=n.replace(/-/g,"")),e.next=6,Q.a.get("".concat(U(),"/service/authors/").concat(a),{headers:{"Content-Type":"application/json"}}).catch((function(e){console.log(e)}));case 6:return o=e.sent,i=o.data,r="".concat(U(),"/service/authors/").concat(n,"/inbox"),"https://social-distribution-media.herokuapp.com/api"==t.host&&(r=t.host+"/authors/"+n+"/inbox"),"https://group-13-epic-app.herokuapp.com/"==t.host&&(r=t.host+"api/authors/"+n+"/inbox/"),"https://cmput404-group6-instatonne.herokuapp.com"==t.host&&(n=n.replace(/-/g,""),r=t.host+"/authors/"+n+"/inbox"),"https://distributed-social-net.herokuapp.com/"==t.host&&(n=n.replace(/-/g,""),r=t.host+"service/authors/"+n+"/inbox"),"Group20","jn8VWYcZDrLrkQDcVsRi",c="Basic "+btoa("Group20:jn8VWYcZDrLrkQDcVsRi"),t.id=t.url,i.id=i.url,l={type:"Follow",summary:"New follower",actor:i,object:t},console.log("follow inbox data",l,r),e.next=22,Q.a.post(r,l,{headers:{"Content-Type":"application/json",Authorization:t.host==r?"Bearer "+localStorage.getItem("token"):"https://social-distribution-media.herokuapp.com/api"==t.host?c:"https://cmput404-group6-instatonne.herokuapp.com"==t.host?"Basic R3JvdXAyMDpncm91cDIwY21wdXQ0MDQ=":""}}).catch((function(e){console.log(e)}));case 22:A(R.filter((function(e){return e.id!==t.id}))),W(F.filter((function(e){return e.id!==t.id})));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(l.a)(Object(s.a)().mark((function e(t){var a,n,r;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ve().user_id,n="".concat(U(),"/service/authors/").concat(t.id,"/followers/").concat(a),e.next=4,Q.a.delete(n,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 4:return r=e.sent,he(),e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye="Bearer "+localStorage.getItem("token"),Oe=Object(B.m)(),ve=function(){null===ye&&Oe("/Login");var e=JSON.stringify(Object(H.a)(ye));return JSON.parse(e)};return Object(G.jsxs)(c.a,{children:[Object(G.jsx)(E,{}),Object(G.jsxs)(c.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",marginLeft:200,marginTop:40},children:[Object(G.jsxs)(c.a,{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(G.jsxs)(j.a,{style:{width:500,height:450,backgroundColor:"#c3d3eb",borderColor:"grey",borderStyle:"solid"},children:[Object(G.jsxs)(c.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[Object(G.jsx)(p.a,{variant:"h5",style:{paddingTop:5,alignSelf:"left"},children:"True Friends"}),Object(G.jsx)(x.a,{id:"searchFriends",label:"Search by name and host",style:{width:370,marginLeft:20},onChange:function(){var e=document.getElementById("searchFriends").value,t=m.filter((function(t){return t.displayName.toLowerCase().includes(e.toLowerCase())||t.host.toLowerCase().includes(e.toLowerCase())}));k(t)}})]}),Object(G.jsxs)(c.a,{style:{marginLeft:20,marginTop:20,height:385,overflowY:"scroll",overflowX:"hidden"},children:[ee&&Object(G.jsx)(J.a,{}),!ee&&w.map((function(e){return Object(G.jsx)(ae.a,{children:Object(G.jsxs)("div",{style:{display:"flex",alignItems:"center",width:500,wordWrap:"break-word"},children:[Object(G.jsx)("img",{src:"no profileImage"!=e.profileImage&&""!=e.profileImage?e.profileImage:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Solid_white.svg/2048px-Solid_white.svg.png",alt:"IMG",style:{borderRadius:"50%"},width:55,height:55}),Object(G.jsx)("span",{children:Object(G.jsx)("a",{href:" ",children:Object(G.jsx)("h4",{style:{width:150,wordWrap:"break-word"},children:e.displayName})})}),Object(G.jsx)(b.a,{style:{backgroundColor:"pink",float:"right",marginLeft:25,fontSize:15,minWidth:90},onClick:function(){return me(e)},children:"Unfriend"})]})})}))]})]}),Object(G.jsxs)(j.a,{style:{width:500,height:450,backgroundColor:"#c3d3eb",marginTop:20,borderColor:"grey",borderStyle:"solid"},children:[Object(G.jsxs)(c.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[Object(G.jsx)(p.a,{variant:"h5",style:{paddingTop:5,alignSelf:"left"},children:"Following/Friends"}),Object(G.jsx)(x.a,{id:"searchFollowing",label:"Search by name and host",style:{width:350,marginLeft:20},onChange:function(){var e=document.getElementById("searchFollowing").value,t=a.filter((function(t){return t.displayName.toLowerCase().includes(e.toLowerCase())||t.host.toLowerCase().includes(e.toLowerCase())}));h(t)}})]}),Object(G.jsxs)(c.a,{style:{marginLeft:20,marginTop:20,height:385,overflowY:"scroll",overflowX:"hidden"},children:[Z&&Object(G.jsx)(J.a,{}),!Z&&u.map((function(e){return Object(G.jsx)(ae.a,{children:Object(G.jsxs)("div",{style:{display:"flex",alignItems:"center",width:400,wordWrap:"break-word"},children:[Object(G.jsx)("img",{src:"no profileImage"!=e.profileImage&&""!=e.profileImage?e.profileImage:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Solid_white.svg/2048px-Solid_white.svg.png",alt:"IMG",style:{borderRadius:"50%"},width:55,height:55}),Object(G.jsx)("span",{children:Object(G.jsx)("a",{href:" ",children:Object(G.jsx)("h4",{style:{width:150,wordWrap:"break-word"},children:e.displayName})})}),Object(G.jsx)(b.a,{style:{backgroundColor:"pink",float:"right",marginLeft:25,fontSize:15,minWidth:90},onClick:function(){return me(e)},children:"Unfollow"})]})})}))]})]})]}),Object(G.jsxs)(c.a,{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(G.jsxs)(j.a,{style:{width:500,height:450,backgroundColor:"#c3d3eb",borderColor:"grey",borderStyle:"solid"},children:[Object(G.jsxs)(c.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[Object(G.jsx)(p.a,{variant:"h5",style:{paddingTop:5},children:"Local Authors"}),Object(G.jsx)(x.a,{id:"searchNotFollowing",label:"Search by name and host",style:{width:300,marginLeft:20},onChange:function(){var e=document.getElementById("searchNotFollowing").value,t=S.filter((function(t){return t.displayName.toLowerCase().includes(e.toLowerCase())||t.host.toLowerCase().includes(e.toLowerCase())}));A(t)}})]}),Object(G.jsxs)(c.a,{style:{marginLeft:20,marginTop:20,height:385,overflowY:"scroll",overflowX:"hidden"},children:[oe&&Object(G.jsx)(J.a,{}),!oe&&R.map((function(e){return Object(G.jsx)(ae.a,{children:Object(G.jsxs)("div",{style:{display:"flex",alignItems:"center",width:400,wordWrap:"break-word"},children:[Object(G.jsx)("img",{src:"no profileImage"!=e.profileImage&&""!=e.profileImage?e.profileImage:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Solid_white.svg/2048px-Solid_white.svg.png",alt:"IMG",style:{borderRadius:"50%"},width:55,height:55}),Object(G.jsx)("span",{children:Object(G.jsx)("a",{href:" ",children:Object(G.jsxs)("h4",{style:{width:150,wordWrap:"break-word"},children:[" ",e.displayName]})})}),Object(G.jsx)(b.a,{id:e.id,style:{backgroundColor:"white",float:"right",marginLeft:25,fontSize:15,minWidth:90},onClick:function(){return fe(e)},children:"Follow"})]})})}))]})]}),Object(G.jsxs)(j.a,{style:{width:500,height:450,backgroundColor:"#c3d3eb",marginTop:20,borderColor:"grey",borderStyle:"solid"},children:[Object(G.jsxs)(c.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[Object(G.jsx)(p.a,{variant:"h5",style:{paddingTop:5},children:"External Authors"}),Object(G.jsx)(x.a,{id:"searchOther",label:"Search by name and host",style:{width:300,marginLeft:20},onChange:function(){var e=document.getElementById("searchOther").value,t=P.filter((function(t){return t.displayName.toLowerCase().includes(e.toLowerCase())||t.host.toLowerCase().includes(e.toLowerCase())}));W(t)}})]}),Object(G.jsxs)(c.a,{style:{marginLeft:20,marginTop:20,height:385,overflowY:"scroll",overflowX:"hidden"},children:[le&&Object(G.jsx)(J.a,{}),!le&&F.map((function(e){return Object(G.jsx)(ae.a,{children:Object(G.jsxs)("div",{style:{display:"flex",alignItems:"center",width:500,wordWrap:"break-word"},children:[Object(G.jsx)("img",{src:"no profileImage"!=e.profileImage&&""!=e.profileImage&&"none"!=e.profileImage?e.profileImage:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Solid_white.svg/2048px-Solid_white.svg.png",alt:"IMG",style:{borderRadius:"50%"},width:55,height:55}),Object(G.jsx)("span",{children:Object(G.jsx)("a",{href:" ",children:Object(G.jsx)("h4",{style:{width:150,wordWrap:"break-word"},children:e.displayName})})}),Object(G.jsx)(b.a,{style:{backgroundColor:"white",float:"right",marginLeft:25,fontSize:15,minWidth:90},onClick:function(){return fe(e)},children:"Follow"})]})})}))]})]})]})]})]})},re=a(101),oe=a(41),ie=a(389),ce=a(114),se=a(393),le=a(375),de=a(394),pe=a(383);var ue=function(){var e=r.a.useState([]),t=Object(d.a)(e,2),a=t[0],n=t[1],o=r.a.useState([]),i=Object(d.a)(o,2),c=i[0],p=i[1],u=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(U(),"/service/authors/").concat(localStorage.getItem("id"),"/friends"),e.next=3,Q.a.get(t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 3:a=e.sent,n=a.data.items,p(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a,r,o,i,c,l,d,p;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(U(),"/service/authors/").concat(localStorage.getItem("id"),"/posts"),e.next=3,Q.a.get(t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 3:a=e.sent,r=a.data.items,console.log(a.data),o=[],void 0==r&&(r=[]),i=0;case 9:if(!(i<r.length)){e.next=19;break}return c="".concat(U())+"/service/authors/"+r[i].author.id+"/posts/"+r[i].id+"/comments",e.next=13,Q.a.get(c,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 13:for(l=e.sent,d=l.data.items,p=0;p<d.length;p++)o.push(d[p]);case 16:i++,e.next=9;break;case 19:return console.log("comments: ",o),n(o),e.abrupt("return",r);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=r.a.useState([]),b=Object(d.a)(j,2),x=b[0],g=b[1];r.a.useEffect((function(){h().then((function(e){g(e),ge(!0)})),u()}),[]);var f=function(){var e=Object(l.a)(Object(s.a)().mark((function e(t,a,n){var r,o,i,c,l,d,p,u;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(ue?"FRIENDS":"PUBLIC"),console.log(ee),r="".concat(U(),"/service/authors/").concat(localStorage.getItem("id"),"/posts"),o={},ke?(console.log(ke),o={title:t,description:a,unlisted:ee,visibility:ue?"FRIENDS":"PUBLIC",contentType:"text/markdown",image_data:n}):o={title:t,description:a,unlisted:ee,visibility:ue?"FRIENDS":"PUBLIC",contentType:"text/plain",image_data:n},i="Bearer "+localStorage.getItem("token"),console.log(i),e.next=9,Q.a.post(r,o,{headers:{"Content-Type":"application/json",Authorization:i}});case 9:if(c=e.sent,console.log(c.data),ee){e.next=41;break}if(!ue||!ye){e.next=18;break}return r="".concat(U(),"/service/authors/").concat(ye,"/inbox"),e.next=16,Q.a.post(r,c.data,{headers:{"Content-Type":"application/json",Authorization:i}});case 16:e.next=41;break;case 18:return r="".concat(U(),"/service/authors/").concat(localStorage.getItem("id"),"/followers"),e.next=21,Q.a.get(r,{headers:{"Content-Type":"application/json",Authorization:i}});case 21:l=e.sent,console.log(l.data),d=Object(oe.a)(l.data.items),e.prev=24,d.s();case 26:if((p=d.n()).done){e.next=33;break}return u=p.value,r="".concat(U(),"/service/authors/").concat(u.id,"/inbox"),e.next=31,Q.a.post(r,c.data,{headers:{"Content-Type":"application/json",Authorization:i}});case 31:e.next=26;break;case 33:e.next=38;break;case 35:e.prev=35,e.t0=e.catch(24),d.e(e.t0);case 38:return e.prev=38,d.f(),e.finish(38);case 41:B(!1),h().then((function(e){g(e)})),Oe("");case 44:case"end":return e.stop()}}),e,null,[[24,35,38,41]])})));return function(t,a,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(U(),"/service/authors/").concat(localStorage.getItem("id"),"/posts/").concat(V.id),e.next=3,Q.a.delete(t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 3:e.sent,z(!1),h().then((function(e){g(e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(U(),"/service/authors/").concat(localStorage.getItem("id"),"/posts/").concat(V.id),a={title:V.title,description:V.description},e.next=4,Q.a.put(t,a,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 4:M(!1),h().then((function(e){g(e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=r.a.useState(null),v=Object(d.a)(O,2),w=v[0],k=v[1],C=r.a.useState(!1),L=Object(d.a)(C,2),D=L[0],B=L[1],R=r.a.useState(!1),A=Object(d.a)(R,2),N=A[0],z=A[1],P=r.a.useState(!1),_=Object(d.a)(P,2),Y=_[0],M=_[1],F=r.a.useState([{}]),W=Object(d.a)(F,2),V=W[0],X=W[1],H=r.a.useState(!1),$=Object(d.a)(H,2),ee=$[0],te=$[1],ae=r.a.useState(!1),ne=Object(d.a)(ae,2),ue=ne[0],he=ne[1],je=r.a.useState(!1),be=Object(d.a)(je,2),xe=be[0],ge=be[1],fe=r.a.useState(),me=Object(d.a)(fe,2),ye=me[0],Oe=me[1],ve=r.a.useState(!1),we=Object(d.a)(ve,2),ke=we[0],Ce=we[1];return Object(G.jsx)(ie.a,{children:Object(G.jsxs)(ie.a,{className:"App",style:{display:"flex",flexDirection:"row",height:"100vh",width:"100vw",alignItems:"left",justifyContent:"left"},children:[Object(G.jsx)(ie.a,{style:{width:"170px"},children:Object(G.jsx)(E,{})}),Object(G.jsxs)(ie.a,{style:{display:"flex",flexDirection:"row",backgroundColor:"white",flex:1,height:"100vh"},children:[Object(G.jsxs)(ie.a,{style:{display:"flex",flexDirection:"column",flex:1,margin:"10px",borderColor:"grey",borderStyle:"solid",backgroundColor:"#c3d3eb"},children:[Object(G.jsx)(ce.a,{variant:"h4",children:"Posts"}),Object(G.jsxs)(I.a,{style:{flex:1,overflowY:"scroll",maxHeight:"100%"},children:[!xe&&Object(G.jsx)(J.a,{}),xe&&x.map((function(e){return Object(G.jsx)(S.a,{onClick:function(){z(!0),X(e)},children:Object(G.jsx)(se.a,{style:{width:"100%"},children:Object(G.jsx)(ie.a,{style:{paddingLeft:2},children:"post"===e.type&&Object(G.jsxs)(ie.a,{style:{display:"flex",flexDirection:"row",marginTop:"10px",marginLeft:"10px"},children:[Object(G.jsx)("img",{src:"no profileImage"!=e.author.profileImage&&""!=e.author.profileImage?e.author.profileImage:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Solid_white.svg/2048px-Solid_white.svg.png",alt:"IMG",style:{borderRadius:"50%"},width:"100px",height:"100px"}),Object(G.jsxs)(ie.a,{style:{display:"flex",flexDirection:"column",paddingLeft:"10px"},children:[Object(G.jsxs)(ce.a,{variant:"h5",children:["Title: ",e.title]}),Object(G.jsxs)(ce.a,{variant:"body2",children:["Author: ",e.author.displayName]}),Object(G.jsxs)(ce.a,{variant:"body2",children:["Published: ",e.published.substring(0,10)]}),Object(G.jsxs)(ce.a,{variant:"body2",children:["Node: ",e.author.host]})]})]})})})},e.id)}))]}),!D&&Object(G.jsx)(T.a,{variant:"contained",color:"primary",onClick:function(){return B(!0)},style:{margin:10,alignSelf:"flex-end"},children:"Create Post"})]}),N&&Object(G.jsxs)(ie.a,{style:{flex:1,display:"flex",flexDirection:"column",margin:"10px",borderColor:"grey",borderStyle:"solid",backgroundColor:"#c3d3eb",overflowY:"scroll"},children:[Y?Object(G.jsx)(le.a,{id:"title",label:"Title",variant:"outlined",style:{width:"95%",margin:"25px"},value:V.title,onChange:function(e){return X(Object(re.a)(Object(re.a)({},V),{},{title:e.target.value}))}}):Object(G.jsx)(ce.a,{variant:"h4",children:V.title}),Object(G.jsx)(se.a,{style:{marginRight:"10px",marginBottom:"10px",marginLeft:"10px",borderRadius:"10px",borderColor:"black",marginTop:"5px",flex:1,overflowY:"scroll"},children:Object(G.jsx)(se.a,{style:{width:"100%",height:"100%",borderRadius:"4px",boxShadow:"0 0 10px 0 rgba(0,0,0,0.5)"},children:Y?Object(G.jsx)(le.a,{id:"description",label:"Description",variant:"outlined",style:{width:"95%",margin:"25px"},value:V.description,onChange:function(e){return X(Object(re.a)(Object(re.a)({},V),{},{description:e.target.value}))},multiline:!0,maxRows:15}):"text/markdown"===V.contentType&&ke?Object(G.jsx)(K.a,{children:V.description}):Object(G.jsx)(ce.a,{variant:"body1",style:{maxHeight:"100%",overflowY:"auto"},children:V.description})})}),V.image_data?Object(G.jsx)(se.a,{style:{marginRight:"10px",marginBottom:"10px",marginLeft:"10px",borderRadius:"10px",borderColor:"black",marginTop:"5px",flex:1,overflowY:"scroll"},children:Object(G.jsx)("img",{src:"data:image/png;base64,".concat(V.image_data),alt:"Post Image",style:{width:"100%"}})}):null,Object(G.jsxs)(ie.a,{style:{alignSelf:"flex-end"},children:[Y&&Object(G.jsx)(T.a,{variant:"contained",color:"secondary",onClick:function(){return m()},style:{margin:10,alignSelf:"flex-end"},children:"Delete"}),Y?Object(G.jsx)(T.a,{variant:"contained",color:"primary",onClick:function(){return y()},style:{margin:10,alignSelf:"flex-end"},children:"Finish"}):Object(G.jsx)(T.a,{variant:"contained",color:"primary",onClick:function(){return M(!0)},style:{margin:10,alignSelf:"flex-end"},children:"Edit"}),Object(G.jsx)(T.a,{variant:"contained",color:"secondary",onClick:function(){return z(!1)},style:{margin:10,alignSelf:"flex-end"},children:"Close"})]}),Object(G.jsxs)(se.a,{style:{marginRight:"10px",marginBottom:"10px",marginLeft:"10px",borderRadius:"10px",borderColor:"black",marginTop:"5px",flex:1,overflowY:"scroll"},children:["".concat(V.author.id)===localStorage.getItem("id")?Object(G.jsx)(ce.a,{variant:"h6",style:{textAlign:"left",paddingLeft:30,fontSize:20},children:"Comments:"}):Object(G.jsx)("h2",{}),"                                        ",a.map((function(e){return"".concat(e.post.id)==="".concat(V.id.split("/").pop())&&"".concat(V.author.id)===localStorage.getItem("id")?Object(G.jsxs)("div",{style:{display:"flex",alignItems:"center",wordWrap:"break-word"},children:[Object(G.jsx)("img",{src:e.author.profileImage,alt:"",style:{borderRadius:"50%",marginLeft:30,marginRight:15,marginBottom:10},width:55,height:55}),Object(G.jsxs)(ce.a,{variant:"h6",style:{display:"inline-block",textAlign:"left",paddingLeft:15,fontSize:20},children:[e.author.displayName,": ",e.comment]})]}):Object(G.jsx)("h2",{})}))]})]}),D&&Object(G.jsxs)(ie.a,{style:{display:"flex",flexDirection:"column",margin:"10px",borderColor:"grey",borderStyle:"solid",width:"25%",backgroundColor:"#c3d3eb"},children:[Object(G.jsx)(ce.a,{variant:"h4",children:"Create Post"}),Object(G.jsxs)(ie.a,{style:{display:"flex",flexDirection:"column",flex:1,margin:"10px",alignItems:"center",backgroundColor:"white",borderRadius:"5px"},children:[Object(G.jsx)(le.a,{id:"title",label:"Title",variant:"outlined",style:{width:"95%",margin:"25px"}}),Object(G.jsx)(le.a,{id:"description",label:"Description",variant:"outlined",style:{width:"95%",margin:"25px"},multiline:!0,minRows:15}),Object(G.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0],a=new FileReader;a.onload=function(e){var t=e.target.result.split(",")[1];k(t)},a.readAsDataURL(t)}}),Object(G.jsx)(de.a,{control:Object(G.jsx)(q.a,{id:"unlisted",name:"unlisted"}),onChange:function(){return te(!ee)},label:"Unlisted"}),Object(G.jsx)(de.a,{control:Object(G.jsx)(q.a,{id:"visibility",name:"visibility",onChange:function(){return he(!ue)}}),label:"Friends Only"}),Object(G.jsx)(de.a,{control:Object(G.jsx)(q.a,{id:"markdown",name:"markdown",onChange:function(){return Ce(!ke)}}),label:"Use Markdown"}),ue&&Object(G.jsx)(Z.a,{id:"select",label:"Friend",value:ye,onChange:function(e){return Oe(e.target.value)},style:{width:"95%",margin:"25px"},children:c.map((function(e){return Object(G.jsx)(pe.a,{value:e.id,children:e.displayName})}))})]}),Object(G.jsxs)(ie.a,{style:{alignSelf:"flex-end"},children:[Object(G.jsx)(T.a,{variant:"contained",color:"primary",onClick:function(){return f(document.getElementById("title").value,document.getElementById("description").value,w)},style:{margin:10,alignSelf:"flex-end"},children:"Create"}),Object(G.jsx)(T.a,{variant:"contained",color:"secondary",onClick:function(){return B(!1)},style:{margin:10,alignSelf:"flex-end"},children:"Cancel"})]})]})]})]})})};var he=function(){var e=Object(B.m)(),t=r.a.useState(!1),a=Object(d.a)(t,2),n=a[0],o=a[1],i=function(){var t=document.getElementById("username").value,a=document.getElementById("password").value,n=U();console.log(n),Q.a.post(n+"/login",{username:t,password:a}).then((function(t){200===t.status&&(localStorage.setItem("token",t.data.token),localStorage.setItem("id",t.data.id),e("/"))})).catch((function(e){o(!0),console.log(e)}))};return Object(G.jsxs)(ie.a,{sx:{height:"100vh",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(G.jsx)(ie.a,{sx:{flex:1,width:"100%",display:"flex",flexDirection:"column",justifyContent:"center"}}),Object(G.jsx)(ie.a,{sx:{flex:5,width:"100%",backgroundColor:"lightgrey",alignItems:"center",display:"flex",justifyContent:"center"},children:Object(G.jsx)(ie.a,{sx:{zIndex:1,height:"400px",width:"400px",display:"flex",justifyContent:"right",alignItems:"center"},children:Object(G.jsxs)(se.a,{sx:{height:"500px",width:"500px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"white"},children:[Object(G.jsx)(ie.a,{sx:{flex:2,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(G.jsx)(ce.a,{variant:"h4",sx:{fontWeight:"bold",color:"black"},children:"Login"})}),Object(G.jsxs)(ie.a,{sx:{flex:2,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"25%"},children:[Object(G.jsx)(ce.a,{variant:"h6",sx:{fontWeight:"bold",color:"red"},children:n?"Invalid Username or Password":""}),Object(G.jsx)(le.a,{sx:{width:"300px"},id:"username",label:"Username",variant:"outlined",onChange:function(){return o(!1)},onKeyPress:function(e){"Enter"===e.key&&i()}}),Object(G.jsx)(le.a,{sx:{width:"300px"},id:"password",label:"Password",variant:"outlined",onChange:function(){return o(!1)},type:"password",onKeyPress:function(e){"Enter"===e.key&&i()}})]}),Object(G.jsx)(ie.a,{sx:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(G.jsx)(T.a,{sx:{width:"200px",height:"50px"},variant:"contained",color:"primary",onClick:function(){return i()},children:"Login"})})]})})}),Object(G.jsx)(ie.a,{sx:{flex:1,width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}})]})},je=a(90);var be=function(){return Object(G.jsx)(je.a,{children:Object(G.jsx)(c.a,{className:"App",children:Object(G.jsxs)(B.c,{children:[Object(G.jsx)(B.a,{path:"/",element:Object(G.jsx)($,{})}),Object(G.jsx)(B.a,{path:"/login",element:Object(G.jsx)(he,{})}),Object(G.jsx)(B.a,{path:"/Inbox",element:Object(G.jsx)(ee,{})}),Object(G.jsx)(B.a,{path:"/profile",element:Object(G.jsx)(te,{})}),Object(G.jsx)(B.a,{path:"/friends",element:Object(G.jsx)(ne,{})}),Object(G.jsx)(B.a,{path:"/posts",element:Object(G.jsx)(ue,{})})]})})})},xe=function(e){e&&e instanceof Function&&a.e(13).then(a.bind(null,401)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),o(e),i(e)}))};i.a.createRoot(document.getElementById("root")).render(Object(G.jsx)(r.a.StrictMode,{children:Object(G.jsx)(be,{})})),xe()}},[[286,1,2]]]);
//# sourceMappingURL=main.6e2736c7.chunk.js.map